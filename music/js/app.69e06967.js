(function(t){function e(e){for(var a,s,c=e[0],o=e[1],l=e[2],u=0,d=[];u<c.length;u++)s=c[u],i[s]&&d.push(i[s][0]),i[s]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);f&&f(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},s={app:0},i={app:0},r=[];function c(t){return o.p+"js/"+({}[t]||t)+"."+{"chunk-12d9e1dd":"8fdd672b","chunk-186273c1":"0b6179d7","chunk-292eb166":"a4c716f5","chunk-2d207eae":"252b1e2f","chunk-3bdf54b9":"4c7c736a","chunk-51adc5ad":"9289da0d","chunk-67f77f5a":"5e942b0f","chunk-fd8e177e":"84369de5"}[t]+".js"}function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n={"chunk-12d9e1dd":1,"chunk-186273c1":1,"chunk-292eb166":1,"chunk-3bdf54b9":1,"chunk-51adc5ad":1,"chunk-67f77f5a":1,"chunk-fd8e177e":1};s[t]?e.push(s[t]):0!==s[t]&&n[t]&&e.push(s[t]=new Promise(function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-12d9e1dd":"fffe28c2","chunk-186273c1":"26a38719","chunk-292eb166":"90757333","chunk-2d207eae":"31d6cfe0","chunk-3bdf54b9":"2229890e","chunk-51adc5ad":"2301a154","chunk-67f77f5a":"1ce84217","chunk-fd8e177e":"2d9a54e7"}[t]+".css",i=o.p+a,r=document.getElementsByTagName("link"),c=0;c<r.length;c++){var l=r[c],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===i))return e()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){l=d[c],u=l.getAttribute("data-href");if(u===a||u===i)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var a=e&&e.target&&e.target.src||i,r=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete s[t],f.parentNode.removeChild(f),n(r)},f.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(f)}).then(function(){s[t]=0}));var a=i[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise(function(e,n){a=i[t]=[e,n]});e.push(a[2]=r);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=c(t),l=function(e){u.onerror=u.onload=null,clearTimeout(d);var n=i[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+a+": "+s+")");r.type=a,r.request=s,n[1](r)}i[t]=void 0}};var d=setTimeout(function(){l({type:"timeout",target:u})},12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var f=u;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0250":function(t,e,n){},"2ad0":function(t,e,n){"use strict";var a=n("95cf"),s=n.n(a);s.a},"2fdc":function(t,e,n){"use strict";n("2338"),n("f763"),n("fb37"),n("0857");var a=n("a506"),s=n("591a");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(n,!0).forEach(function(e){Object(a["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var c={computed:r({},Object(s["c"])(["searchState","recommentData","userInfoState","playState","playList","currenPlayList","playModel","playIndex","songListState","fullScreen","lyricObj","ListIndex","searchKey","searchItemName"])),methods:r({},Object(s["b"])(["SETSEARCHSTATE","SETRECOMMENTDATA","SETUSERINFOSTATE","SETPLAYS"]),{},Object(s["d"])(["setplayState","setplayList","setcurrenPlayList","setplayModel","setplayIndex","setfullScreen","setsongListState","setlyricObj","setListIndex","setsearchKey","setsearchItemName"]),{CountCal:function(t){var e="",n=0;return e=t+"",n=e.length,n<=4?e+"次":e.substr(0,n-4)+"万次"},add0:function(t){var e=t.toString().length;return e<2?"0".concat(t):t},jsDateTimeFormat:function(t){var e=new Date(t),n=e.getMinutes(),a=e.getSeconds();return"".concat(this.add0(n),":").concat(this.add0(a))},timeFormat:function(t){var e=Math.floor(t/60)%60,n=parseInt(t%60);return"".concat(this.add0(e),":").concat(this.add0(n))}})};e["a"]=c},"56d7":function(t,e,n){"use strict";n.r(e);n("dac5"),n("6e26"),n("9604"),n("df67");var a=n("6e6d"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("SongDetial",{staticClass:"songDetial"}),n("div",[n("router-view"),n("Footer")],1)],1)},i=[],r=n("2fdc"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Footer"},t._l(t.list,function(e,a){return n("router-link",{key:a,staticClass:"item_warper",attrs:{tag:"div",to:e.route},on:{click:function(e){t.activeIndex=a}}},[n("div",{staticClass:"icon"},[n("span",{staticClass:"iconfont icon1"},[t._v(t._s(e.icon))])]),n("div",{staticClass:"text"},[t._v(t._s(e.name))])])}),1)},o=[],l={name:"Footer",data:function(){return{activeIndex:0,list:[{icon:"",name:"发现",route:"/find"},{icon:"",name:"视频",route:"/a"},{icon:"",name:"我的",route:"/b"},{icon:"",name:"云村",route:"/v"},{icon:"",name:"用户",route:"/g"}]}},components:{},computed:{},methods:{},mounted:function(){}},u=l,d=(n("bca1"),n("6691")),f=Object(d["a"])(u,c,o,!1,null,"21a56531",null),p=f.exports,h=n("f3ae"),m={mixins:[r["a"]],components:{Footer:p,SongDetial:h["default"]},mounted:function(){}};document.addEventListener("DOMContentLoaded",function(){var t=document.querySelector("html"),e=window.innerWidth/10;e=e>50?50:e,t.style.fontSize=e+"px"});var y=m,g=(n("5c0b"),Object(d["a"])(y,s,i,!1,null,null,null)),v=g.exports,S=n("8b48");a["a"].use(S["a"]);var b=new S["a"]({routes:[{path:"/",redirect:"/find"},{path:"/songDetial",name:"songDetial",component:function(){return Promise.resolve().then(n.bind(null,"f3ae"))}},{path:"/search",name:"search",component:function(){return n.e("chunk-186273c1").then(n.bind(null,"4e22"))}},{path:"/searchResult/:key",name:"searchResult",component:function(){return n.e("chunk-292eb166").then(n.bind(null,"a6e4"))}},{path:"/find",name:"find",component:function(){return n.e("chunk-2d207eae").then(n.bind(null,"a328"))},children:[{path:"/",name:"home",component:function(){return n.e("chunk-fd8e177e").then(n.bind(null,"61af"))}},{path:"songSheet",name:"songSheet",component:function(){return n.e("chunk-67f77f5a").then(n.bind(null,"784f"))}},{path:"sort",name:"sort",component:function(){return n.e("chunk-3bdf54b9").then(n.bind(null,"29ce"))}},{path:"sortDetial/:name",name:"sortDetial",component:function(){return n.e("chunk-51adc5ad").then(n.bind(null,"2515"))}},{path:"song/:id",name:"song",component:function(){return n.e("chunk-12d9e1dd").then(n.bind(null,"be0e"))}}]}]}),_=n("591a"),x={state:{searchState:!1,recommentData:[],userInfoState:!1},mutations:{setsearchState:function(t,e){t.searchState=e},setrecommentData:function(t,e){t.recommentData=e},setuserInfoState:function(t,e){t.userInfoState=e}},actions:{SETSEARCHSTATE:function(t,e){t.commit("setsearchState",e)},SETRECOMMENTDATA:function(t,e){t.commit("setrecommentData",e)},SETUSERINFOSTATE:function(t,e){t.commit("setuserInfoState",e)}},getters:{searchState:function(t){return t.searchState},recommentData:function(t){return t.recommentData},userInfoState:function(t){return t.userInfoState}}},L=x,C={state:{playState:!1,playList:[],currenPlayList:[],playModel:0,playIndex:-1,fullScreen:!1,songListState:!1,lyricObj:null,ListIndex:0,searchKey:"",searchItemName:""},mutations:{setplayState:function(t,e){t.playState=e},setplayList:function(t,e){t.playList=e},setcurrenPlayList:function(t,e){t.currenPlayList=e},setplayModel:function(t,e){t.playModel=e},setfullScreen:function(t,e){t.fullScreen=e},setplayIndex:function(t,e){t.playIndex=e},setsongListState:function(t,e){t.songListState=e},setlyricObj:function(t,e){t.lyricObj=e},setListIndex:function(t,e){t.ListIndex=e},setsearchKey:function(t,e){t.searchKey=e},setsearchItemName:function(t,e){t.searchItemName=e}},actions:{SETPLAYS:function(t,e){var n=t.commit,a=(t.state,e.list),s=e.pstate,i=e.pmodel;n("setplayState",s),n("setplayList",a),n("setcurrenPlayList",a),n("setplayModel",i)}},getters:{playState:function(t){return t.playState},playList:function(t){return t.playList},currenPlayList:function(t){return t.currenPlayList},playModel:function(t){return t.playModel},playIndex:function(t){return t.playIndex},fullScreen:function(t){return t.fullScreen},songListState:function(t){return t.songListState},lyricObj:function(t){return t.lyricObj},ListIndex:function(t){return t.ListIndex},searchKey:function(t){return t.searchKey},searchItemName:function(t){return t.searchItemName}}},I=C;a["a"].use(_["a"]);var k=new _["a"].Store({modules:[L,I]}),D=n("2427"),w=n.n(D),O=n("27f3"),E=n("debc"),T=n.n(E);window.$=T.a,a["a"].use(O["a"],{preLoad:1.3,error:"public/favicon.ico",loading:"public/favicon.ico",attempt:3}),window.cancelList=[],w.a.defaults.baseURL="http://47.103.59.27:3000/",a["a"].prototype.$httpget=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return cancelList.map(function(t,e){cancelList[e].fun(),delete cancelList[e]}),new Promise(function(n,a){w.a.get(t,e).then(function(t){n(t)})})},a["a"].config.productionTip=!1,new a["a"]({router:b,store:k,render:function(t){return t(v)}}).$mount("#app")},"5ab7":function(t,e,n){},"5c0b":function(t,e,n){"use strict";var a=n("5ab7"),s=n.n(a);s.a},"695a":function(t,e,n){},"6ee0":function(t,e,n){"use strict";var a=n("8f89"),s=n.n(a);s.a},7105:function(t,e,n){"use strict";var a=n("97cc"),s=n.n(a);s.a},7165:function(t,e,n){"use strict";var a=n("695a"),s=n.n(a);s.a},"7e1c":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fadeIn"},[n("transition",{attrs:{name:"fadeIn"}},[t._t("default")],2)],1)},s=[],i={name:"fadeIn",data:function(){return{}},components:{},computed:{},methods:{},mounted:function(){}},r=i,c=(n("7105"),n("6691")),o=Object(c["a"])(r,a,s,!1,null,"3824f476",null);e["a"]=o.exports},"8f89":function(t,e,n){},"95cf":function(t,e,n){},"97cc":function(t,e,n){},bca1:function(t,e,n){"use strict";var a=n("0250"),s=n.n(a);s.a},f3ae:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.songData?n("div",{staticClass:"songDetial"},[t.fullScreen?n("div",[n("div",{staticClass:"bgParent"},[t.songData.CD?n("div",{staticClass:"bg",style:{"background-image":"url("+t.songData.CD+")",backgroundSize:"100% 100%",filter:"blur(15px)"}}):t._e(),n("div",{staticClass:"bgShadow"})]),n("div",{staticClass:"songDetial_warper"},[n("div",{staticClass:"header_warper"},[n("span",{staticClass:"iconfont icon",on:{click:t.goBack}},[t._v("")]),n("div",{staticClass:"title_warper"},[n("span",{staticClass:"title"},[t._v(t._s(t.songData.songname))]),n("span",{staticClass:"author"},[t._v(t._s(t.songData.authorname))])]),n("span",{staticClass:"iconfont icon"},[t._v("")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.lrcState,expression:"!lrcState"}],staticClass:"CD_warper",on:{click:function(e){t.lrcState=!0}}},[n("img",{class:t.pointer,attrs:{alt:""}}),n("div",{class:t.CDbox},[n("img",{staticClass:"CD",attrs:{src:t.songData.CD,alt:""}})])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.lrcState,expression:"lrcState"}],staticClass:"lrc_warper",on:{click:function(e){t.lrcState=!1}}},[n("div",{ref:"lyricList",staticClass:"lrcText"},t._l(t.lyricList,function(e,a){return n("p",{key:a,ref:"lyricItem",refInFor:!0,class:{active:t.lrcIndex==a}},[t._v(t._s(e.txt))])}),0)]),t._m(0),n("div",{staticClass:"songPro_warper"},[n("span",{staticClass:"time"},[t._v(t._s(t.timeFormat(t.currentTime)))]),n("input",{ref:"range",staticClass:"range",attrs:{type:"range",min:"0",max:"100",step:"1"},domProps:{value:t.progrose},on:{change:function(e){return t.onProgressChange(e.target.value)},input:function(e){return t.onProgressInput(e.target.value)}}}),n("span",{staticClass:"time"},[t._v(t._s(t.jsDateTimeFormat(t.songData.dt)))])]),n("div",{staticClass:"songMenu_warper"},[n("span",{staticClass:"iconfont icon",on:{click:t.playingModel}},[t._v(t._s(t.modelList[t.playModel]))]),n("span",{staticClass:"iconfont icon",on:{click:function(e){return t.perSong(t.ListIndex)}}},[t._v("")]),n("span",{staticClass:"iconfont play",on:{click:t.playing}},[t._v(t._s(t.playIcon))]),n("span",{staticClass:"iconfont icon",on:{click:function(e){return t.nextSong(t.ListIndex)}}},[t._v("")]),n("span",{staticClass:"iconfont icon",on:{click:function(e){return t.setsongListState(!0)}}},[t._v("")])]),n("SideUp",[t.songListState?n("SongList",{attrs:{playlist:t.playList,playindex:t.playIndex}}):t._e()],1)],1)]):t._e(),n("audio",{ref:"audio",attrs:{loop:t.loop},on:{timeupdate:t.timeUpData,ended:t.ended}})]):t._e()},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"menu_warper"},[n("span",{staticClass:"iconfont icon"},[t._v("")]),n("span",{staticClass:"iconfont icon"},[t._v("")]),n("span",{staticClass:"iconfont icon"},[t._v("")]),n("span",{staticClass:"iconfont icon"},[t._v("")]),n("span",{staticClass:"iconfont icon"},[t._v("")])])}],i=(n("7364"),n("d4d5"),n("2fdc")),r=n("7e1c"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sideUp"},[n("transition",{attrs:{name:"sideUp"}},[t._t("default")],2)],1)},o=[],l={name:"sideUp",data:function(){return{}},components:{},computed:{},methods:{},mounted:function(){}},u=l,d=(n("2ad0"),n("6691")),f=Object(d["a"])(u,c,o,!1,null,"70870bf9",null),p=f.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"songlist"},[t.songListState?n("div",{staticClass:"bg",on:{click:t.close}}):t._e(),n("div",{staticClass:"song_warper"},[t._m(0),n("ul",{staticClass:"list_warper"},t._l(t.playlist,function(e,a){return n("li",{key:a,staticClass:"item",class:{active:t.playindex===e.id},on:{click:function(n){return t.getSongDetial(e.id,a)}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.playindex===e.id,expression:"playindex===item.id"}],staticClass:"iconfont icon"},[t._v("")]),n("span",{staticClass:"text"},[t._v(t._s(e.name))]),n("span",{staticClass:"iconfont icon1",on:{click:function(e){return t.cancel(a)}}},[t._v("")])])}),0),n("div",{staticClass:"close",on:{click:t.close}},[t._v("关闭")])])])},m=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title"},[n("span",[t._v("播放列表")]),n("span",{staticClass:"iconfont icon"},[t._v("")])])}],y={name:"songlist",mixins:[i["a"]],props:["playlist","playindex"],data:function(){return{}},components:{},computed:{},methods:{getSongDetial:function(t,e){this.setplayIndex(t),this.setListIndex(e),this.setplayState(!0)},close:function(){this.setsongListState(!1)},cancel:function(t){var e=this.playList.slice(t,1);this.setplayList(e)}},mounted:function(){}},g=y,v=(n("6ee0"),Object(d["a"])(g,h,m,!1,null,"97350108",null)),S=v.exports,b=n("0031"),_=n.n(b),x={name:"songDetial",mixins:[i["a"]],data:function(){return{lrcState:!1,currentTime:0,lrcIndex:0,lyric:null,lyricList:[],progrose:0,flag:!0,modelList:["","",""],loop:!1,songData:{}}},components:{FadeIn:r["a"],SongList:S,SideUp:p},computed:{playIcon:function(){return this.playState?"":""},CDbox:function(){return this.playState?"CDbox":"CDbox pause"},pointer:function(){return this.playState?"pointer":"pointer pointerrotate"}},methods:{playing:function(){this.lyric.togglePlay(),this.playState?(this.$refs.audio.pause(),this.setplayState(!1)):(this.$refs.audio.play(),this.setplayState(!0))},goBack:function(){this.setfullScreen(!1)},perSong:function(t){this.lrcState=!1,0===this.ListIndex&&(t=this.playList.length),t-=1;var e=this.playList[t].id;localStorage.setItem("playIndex",e),this.setplayIndex(e),this.setListIndex(t),this.setplayState(!0)},nextSong:function(t){this.lrcState=!1,(this.ListIndex===this.playList.length-1||this.ListIndex<0)&&(t=-1),t+=1;var e=this.playList[t].id;localStorage.setItem("playIndex",e),this.setplayIndex(e),this.setListIndex(t),this.setplayState(!0)},getLyricData:function(){var t=this;this.lyric&&this.lyric.stop(),this.lyric=null,this.$httpget("lyric?id="+this.playIndex).then(function(e){var n=e.data.lrc;if(n){var a=n.lyric;t.lyric=new _.a(a,function(e){var n=e.lineNum;e.txt;t.lrcIndex=n}),t.lyricList=t.lyric.lines,t.lyric.play()}})},range:function(t){this.flag=!1,this.progrose=Number(t),this.$refs.range.style.backgroundSize="".concat(this.progrose,"%, 100%");var e=t/100*this.songData.dt,n=e/1e3;this.$refs.audio.currentTime=n,null!==this.lyric&&this.lyric.seek(e),this.flag=!0},onProgressChange:function(t){this.range(t)},onProgressInput:function(t){this.range(t)},timeUpData:function(t){this.currentTime=t.target.currentTime;t.target.currentTime;this.flag&&this.fullScreen&&(this.progrose=(1e3*t.target.currentTime|0)/this.songData.dt*100,this.$refs.range.style.backgroundSize="".concat(this.progrose,"%, 100%"))},ended:function(){this.nextSong(this.ListIndex)},playingModel:function(){switch(this.loop=!1,this.playModel){case 0:this.loop=!0,this.setplayModel(1);break;case 1:this.setplayModel(2);break;case 2:this.setplayModel(0);break}},getsongUrlData:function(){var t=this;this.$httpget("song/url?id="+this.playIndex).then(function(e){console.log(t.playIndex);var n=e.data.data[0];t.songData={id:n.id,url:n.url,br:n.br,size:n.size,songname:t.playList[t.ListIndex].name,CD:t.playList[t.ListIndex].al.picUrl,authorname:t.playList[t.ListIndex].ar[0].name,dt:t.playList[t.ListIndex].dt},t.$refs.audio.src=n.url,t.playState&&t.$nextTick(function(){t.$refs.audio.play()})})}},watch:{fullScreen:function(){this.lrcState=!1},playIndex:function(){console.log(1234),this.getsongUrlData(),this.getLyricData()}}},L=x,C=(n("7165"),Object(d["a"])(L,a,s,!1,null,"79505688",null));e["default"]=C.exports}});
//# sourceMappingURL=app.69e06967.js.map